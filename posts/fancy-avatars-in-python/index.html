<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" name="format-detection" content="telephone=no"><meta data-n-head="ssr" data-hid="twitter:card" name="twitter:card" content="summary"><meta data-n-head="ssr" data-hid="twitter:site" name="twitter:site" content="Hersh / Harsh"><meta data-n-head="ssr" data-hid="twitter:creator" name="twitter:creator" content="Hersh / Harsh"><meta data-n-head="ssr" data-hid="og:type" name="og:type" content="website"><meta data-n-head="ssr" data-hid="og:site_name" name="og:site_name" content="Hersh / Harsh"><meta data-n-head="ssr" name="og:title" content="The Easiest Way To Generate Fancy Avatars In Python" property="og:title" data-hid="og:title"><meta data-n-head="ssr" name="twitter:title" content="The Easiest Way To Generate Fancy Avatars In Python" property="twitter:title" data-hid="twitter:title"><meta data-n-head="ssr" name="description" content="This is a really short article, where I will show you how to generate cool avatars from a given string (email, username…) or from your logo using python." property="description" data-hid="description"><meta data-n-head="ssr" name="og:description" content="This is a really short article, where I will show you how to generate cool avatars from a given string (email, username…) or from your logo using python." property="og:description" data-hid="og:description"><meta data-n-head="ssr" name="twitter:description" content="This is a really short article, where I will show you how to generate cool avatars from a given string (email, username…) or from your logo using python." property="twitter:description" data-hid="twitter:description"><meta data-n-head="ssr" name="og:url" content="https://harshbanthiya.github.io//posts/fancy-avatars-in-python" property="og:url" data-hid="og:url"><meta data-n-head="ssr" name="og:image" content="https://www.notion.so/image/https:%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fde8d7262-1b07-4bab-aeae-a69a59c30852%2Favatars-logo-mine.webp?table=block&id=075011cd-1419-4c24-bd82-0d81ada03c61&cache=v2" property="og:image" data-hid="og:image"><meta data-n-head="ssr" name="twitter:image" content="https://www.notion.so/image/https:%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fde8d7262-1b07-4bab-aeae-a69a59c30852%2Favatars-logo-mine.webp?table=block&id=075011cd-1419-4c24-bd82-0d81ada03c61&cache=v2" property="twitter:image" data-hid="twitter:image"><meta data-n-head="ssr" name="keywords" content="python, python, django, developer, portfolio, docker, graphql, elasticsearch" property="keywords" data-hid="keywords"><meta data-n-head="ssr" name="article:published-time" content="2020-09-08" property="article:published-time" data-hid="article:published-time"><title>The Easiest Way To Generate Fancy Avatars In Python</title><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" rel="canonical" href="https://harshbanthiya.github.io//posts/fancy-avatars-in-python"><link rel="preload" href="/_nuxt/89b09f1.js" as="script"><link rel="preload" href="/_nuxt/e6dfa61.js" as="script"><link rel="preload" href="/_nuxt/28e6763.js" as="script"><link rel="preload" href="/_nuxt/6d32298.js" as="script"><link rel="preload" href="/_nuxt/5da1cc7.js" as="script"><link rel="preload" href="/_nuxt/35efdad.js" as="script"><style data-vue-ssr-id="65b97e00:0 46f23c9d:0 5cfefefe:0 2a9bec5c:0 71589ff4:0">/*! tailwindcss v3.3.1 | MIT License | https://tailwindcss.com*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-feature-settings:normal;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scroll-snap-strictness:proximity;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 transparent;--tw-ring-shadow:0 0 transparent;--tw-shadow:0 0 transparent;--tw-shadow-colored:0 0 transparent}::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scroll-snap-strictness:proximity;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 transparent;--tw-ring-shadow:0 0 transparent;--tw-shadow:0 0 transparent;--tw-shadow-colored:0 0 transparent}.nuxt-progress{background-color:#000;height:2px;left:0;opacity:1;position:fixed;right:0;top:0;transition:width .1s,opacity .4s;width:0;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}.wrapper{max-width:1280px}.wrapper,.wrapper-small{margin-left:auto;margin-right:auto}.wrapper-small{max-width:1024px;padding-left:1.5rem;padding-right:1.5rem}.flex-center{align-items:center;display:flex;justify-content:center}.mobile-link{border-radius:.375rem;color:#111827;color:rgb(17 24 39/var(--tw-text-opacity));color:#fff;color:rgb(255 255 255/var(--tw-text-opacity));display:block;padding:.5rem .75rem}.mobile-link,.nav-link{--tw-text-opacity:1;font-size:1.125rem;font-weight:500;line-height:1.75rem;text-align:center}.nav-link{color:#374151;color:rgb(55 65 81/var(--tw-text-opacity));margin:auto auto auto 1.25rem}.nav-link:hover{--tw-text-opacity:1;color:#4c1d95;color:rgb(76 29 149/var(--tw-text-opacity))}.dark .nav-link{--tw-text-opacity:1;color:#e5e7eb;color:rgb(229 231 235/var(--tw-text-opacity))}.dark .nav-link:hover{--tw-text-opacity:1;color:#4c1d95;color:rgb(76 29 149/var(--tw-text-opacity))}.notion{caret-color:#37352f;color:#37352f;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,"Apple Color Emoji",Arial,sans-serif,"Segoe UI Emoji","Segoe UI Symbol";font-size:16px;line-height:1.5}.notion-column>*,.notion-page>*,.notion>*{padding:3px 0}.notion *{box-sizing:border-box;margin-bottom:0;margin-top:0}.notion-red{color:#e03e3e}.notion-pink{color:#ad1a72}.notion-blue{color:#0b6e99}.notion-purple{color:#6940a5}.notion-teal{color:#0f7b6c}.notion-yellow{color:#dfab01}.notion-orange{color:#d9730d}.notion-brown{color:#64473a}.notion-gray{color:#9b9a97}.notion-red_background{background-color:#fbe4e4}.notion-pink_background{background-color:#f4dfeb}.notion-blue_background{background-color:#ddebf1}.notion-purple_background{background-color:#eae4f2}.notion-teal_background{background-color:#ddedea}.notion-yellow_background{background-color:#fbf3db}.notion-orange_background{background-color:#faebdd}.notion-brown_background{background-color:#e9e5e3}.notion-gray_background{background-color:#ebeced}.notion-red_background_co{background-color:hsla(0,74%,94%,.3)}.notion-pink_background_co{background-color:rgba(244,223,235,.3)}.notion-blue_background_co{background-color:rgba(221,235,241,.3)}.notion-purple_background_co{background-color:rgba(234,228,242,.3)}.notion-teal_background_co{background-color:rgba(221,237,234,.3)}.notion-yellow_background_co{background-color:hsla(45,80%,92%,.3)}.notion-orange_background_co{background-color:hsla(29,74%,92%,.3)}.notion-brown_background_co{background-color:hsla(20,12%,90%,.3)}.notion-gray_background_co{background-color:hsla(210,5%,93%,.3)}.notion b{font-weight:600}.notion-title{font-size:2.5em;font-weight:700;margin-bottom:.25em;margin-top:.75em}.notion-h1,.notion-h2,.notion-h3{font-weight:600;line-height:1.3;padding:3px 2px}.notion-h1{font-size:1.875em;margin-top:1.4em}.notion-h1:first-child{margin-top:0}.notion-h2{font-size:1.5em;margin-top:1.1em}.notion-h3{font-size:1.25em;margin-top:1em}.notion-emoji{font-family:"Apple Color Emoji",Arial,sans-serif,"Segoe UI Emoji","Segoe UI Symbol"}.notion-page-cover{display:block;height:30vh;min-height:30vh;-o-object-fit:cover;object-fit:cover;padding:0;width:100%}.notion-page{margin:0 auto;max-width:708px;padding:0;width:100%}@media only screen and (max-width:730px){.notion-page{padding:0 2vw}}.notion-page-offset{margin-top:96px}span.notion-page-icon-cover{display:inline-block;font-size:78px;height:78px;line-height:1.1;margin-left:0;width:78px}span.notion-page-icon-offset{margin-top:-42px}img.notion-page-icon-cover{border-radius:3px;height:124px;margin:8px;width:124px}img.notion-page-icon-offset{margin-top:-80px}.notion-full-width{max-width:100%;padding:0 40px}.notion-small-text{font-size:14px}.notion-quote{border-left:3px solid;font-size:1.2em;margin:0;padding:.2em .9em;white-space:pre-wrap;word-break:break-word}.notion-hr{border-bottom-width:0;border-color:rgba(55,53,47,.09);border-top-width:1px;margin:6px 0;padding:0}.notion-link{color:inherit;-webkit-text-decoration:underline;text-decoration:underline;text-decoration-color:inherit;word-break:break-word}.notion-blank{margin-bottom:1px;margin-top:1px;min-height:1rem;padding:3px 2px}.notion-page-link{color:#37352f;display:flex;height:30px;margin:1px 0;-webkit-text-decoration:none;text-decoration:none;transition:background .12s ease-in 0s}.notion-page-link:hover{background:rgba(55,53,47,.08)}.notion-page-icon{line-height:1.4;margin-left:2px;margin-right:4px}img.notion-page-icon{border-radius:3px;display:block;height:20px;-o-object-fit:cover;object-fit:cover;width:20px}.notion-icon{color:rgba(55,53,47,.4);display:block;height:18px;width:18px}.notion-page-text{border-bottom:1px solid rgba(55,53,47,.16);font-weight:500;line-height:1.3;margin:1px 0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.notion-inline-code{background:hsla(44,6%,50%,.15);border-radius:3px;color:#eb5757;font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:85%;padding:.2em .4em}.notion-list{margin:.6em 0}.notion-list-disc{list-style-type:disc}.notion-list-disc,.notion-list-numbered{margin-bottom:0;margin-top:0;padding-left:1.6em}.notion-list-numbered{list-style-type:decimal}[dir=rtl] .notion-list-disc{padding-right:1.7em}[dir=rtl] .notion-list-numbered{padding-right:1.6em}.notion-list-disc li{padding-left:.1em}.notion-list-numbered li{padding-left:.2em}.notion-list li{padding:4px 0;white-space:pre-wrap}.notion-list>.notion-text{margin-left:-1.6em;padding-left:0}.notion-asset-wrapper{margin:.5rem auto;max-width:100%}.notion-asset-wrapper>img{max-width:100%}.notion-asset-wrapper iframe{border:none}.notion-text{caret-color:#37352f;white-space:pre-wrap}.notion-block,.notion-text{padding:3px 2px}.notion .notion-code{font-size:85%}.notion-code{background:#f7f6f3;border-radius:3px;box-sizing:border-box;display:block;font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace;margin:4px 0;overflow-x:auto;padding:30px 16px 30px 20px;-moz-tab-size:2;-o-tab-size:2;tab-size:2}.notion-column{padding-bottom:12px;padding-top:12px}.notion-column>:first-child{margin-left:0;margin-right:0;margin-top:0}.notion-column>:last-child{margin-bottom:0;margin-left:0;margin-right:0}.notion-bookmark,.notion-row{display:flex;overflow:hidden}.notion-bookmark{border:1px solid rgba(55,53,47,.16);border-radius:3px;box-sizing:border-box;margin:4px 0;-webkit-text-decoration:none;text-decoration:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}.notion-bookmark>div:first-child{color:#37352f;flex:4 1 180px;overflow:hidden;padding:12px 14px 14px;text-align:left}.notion-bookmark-title{font-size:14px;line-height:20px;margin-bottom:2px;min-height:24px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.notion-bookmark-description{font-size:12px;height:32px;line-height:16px;opacity:.6;overflow:hidden}.notion-bookmark-link{display:flex;margin-top:6px}.notion-bookmark-link>img{height:16px;margin-right:6px;min-width:16px;width:16px}.notion-bookmark-link>div{color:#37352f;font-size:12px;line-height:16px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.notion-bookmark-image{flex:1 1 180px;position:relative}.notion-bookmark-image img{height:100%;-o-object-fit:cover;object-fit:cover;position:absolute;width:100%}.notion-column .notion-bookmark-image{display:none}@media (max-width:640px){.notion-bookmark-image{display:none}.notion-row{flex-direction:column}.notion-column>*,.notion-row>*{width:100%!important}}.notion-spacer:last-child{display:none}.notion-image-inset{border-radius:1px;bottom:0;height:100%;left:0;position:absolute;right:0;top:0;width:100%}.notion-image-caption{caret-color:#37352f;color:rgba(55,53,47,.6);font-size:14px;line-height:1.4;padding:6px 0;white-space:pre-wrap;word-break:break-word}.notion-callout{align-items:center;border-radius:3px;border-width:1px;box-sizing:border-box;display:inline-flex;margin:4px 0;padding:16px 16px 16px 12px;width:100%}.notion-callout-text{margin-left:8px;white-space:pre-line}.notion-toggle{padding:3px 2px}.notion-toggle>summary{cursor:pointer;outline:0}.notion-toggle>div{margin-left:1.1em}.notion-table,.notion-td,.notion-th{border:1px solid rgba(55,53,47,.09);border-collapse:collapse}.notion-table{border-left:none;border-right:none;border-spacing:0;white-space:nowrap;width:100%}.notion-td,.notion-th{font-size:14px;font-weight:400;line-height:1.5;min-height:1.5em;padding:.25em .5em;text-align:left}.notion-td.notion-bold{font-weight:500}.notion-th{color:rgba(55,53,47,.6);font-size:14px}.notion-td:first-child,.notion-th:first-child{border-left:0}.notion-td:last-child,.notion-th:last-child{border-right:0}.notion-gallery{grid-gap:16px;border-top:1px solid rgba(55,53,47,.16);display:grid;gap:16px;grid-auto-rows:1fr;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));padding-bottom:4px;padding-top:16px;position:relative}.notion-gallery-card{background:#fff;border-radius:3px;box-shadow:0 0 0 1px hsla(0,0%,6%,.1),0 2px 4px hsla(0,0%,6%,.1);color:inherit;display:block;height:100%;overflow:hidden;position:static;-webkit-text-decoration:none;text-decoration:none;transition:background .1s ease-out 0s}.notion-gallery-content{font-size:12px;padding:8px 10px 6px;white-space:nowrap}.notion-gallery-data.is-first{caret-color:#37352f;font-size:14px;font-weight:500;line-height:1.5;min-height:21px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-word}.notion-page-header{-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;text-size-adjust:100%;background:#fff;box-sizing:border-box;font-size:14px;height:45px;justify-content:space-between;line-height:1.2;max-width:100vw;min-height:45px;padding:0 12px;position:sticky;top:0;width:100%}.notion-nav-breadcrumbs,.notion-page-header{align-items:center;display:flex;flex-direction:row}.notion-nav-breadcrumbs{flex-grow:0;height:100%;margin-right:8px;min-width:0}.notion-nav-breadcrumb{align-items:center;background:0 0;border-radius:3px;color:#37352f;cursor:pointer;display:inline-flex;flex-direction:row;justify-content:center;margin:1px 0;padding:4px 6px;-webkit-text-decoration:none;text-decoration:none;transition:background .12s ease-in 0s;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap}img.notion-nav-icon{height:18px!important;width:18px!important}.notion-nav-icon{color:#000;font-size:18px;line-height:1.1;margin-right:6px}.notion-nav-breadcrumb:not(.notion-nav-breadcrumb-active):hover{background:rgba(55,53,47,.08)}.notion-nav-breadcrumb:not(.notion-nav-breadcrumb-active):active{background:rgba(55,53,47,.16)}.notion-nav-breadcrumb.notion-nav-breadcrumb-active{cursor:default}.notion-nav-spacer{color:rgba(55,53,47,.4);margin:0 2px}.notion-simple-table{border-collapse:collapse;border-spacing:0}.notion-simple-table-data{fill:inherit;border:1px solid #e9e9e7;color:inherit;max-width:178px;min-height:32px;min-width:178px;position:relative;vertical-align:top}.notion-simple-table-cell-text{background-color:transparent;caret-color:transparent;font-size:14px;line-height:20px;max-width:100%;padding:7px 9px;white-space:pre-wrap;width:100%;word-break:break-word}.notion-simple-table-header{background:#f7f6f3;font-weight:500}.dark .notion-callout-text,.dark .notion-list,.dark .notion-text,.dark .notion-title,.dark h1,.dark h2,.dark h3,.dark h4,.dark p,.dark span{--tw-text-opacity:1;color:#fff;color:rgb(255 255 255/var(--tw-text-opacity))}.dark .notion-link:hover{--tw-bg-opacity:1;background-color:#ef4444;background-color:rgb(239 68 68/var(--tw-bg-opacity))}</style><link rel="preload" href="/_nuxt/static/1681343429/posts/fancy-avatars-in-python/state.js" as="script"><link rel="preload" href="/_nuxt/static/1681343429/posts/fancy-avatars-in-python/payload.js" as="script"><link rel="preload" href="/_nuxt/static/1681343429/manifest.js" as="script">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div class="flex flex-col h-screen justify-between dark:bg-gray-900"><div class="dark:bg-gray-900"><div><nav class="wrapper py-6 dark:bg-gray-900"><div class="px-10 flex justify-between items-center"><div class="logo"><a href="/" class="nuxt-link-active"><h1 class="text-2xl font-semibold text-gray-700 dark:text-gray-200">Harsh / Hersh</h1></a></div> <div class="flex flex-row"><a href="/posts" class="nav-link nuxt-link-active">Blog</a> <a href="/about" class="nav-link">About</a> <div class="rounded-full cursor-pointer ml-5 bg-gray-100 p-2 text-gray-900 dark:bg-gray-800 dark:text-gray-100 focus:outline-none"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg></div></div></div></nav></div></div> <div class="mb-auto dark:bg-gray-900"><div><div class="notion"><!----> <main class="notion-page notion-page-offset"><!----> <div class="notion-title"><span><span>The Easiest Way To Generate Fancy Avatars In Python</span></span></div> <p class="notion-text"><span><span>This is a really short article, where I will show you how to generate cool avatars from a given string (email, username…) or from your logo using python.</span></span></p><div class="notion-blank"> </div><p class="notion-text"><span><span>The idea for this article came to mind while I was working on a project where I have to set a default avatar for each user from the backend, because I was dealing with a backend feeding two frontends, and maybe more in the future.</span></span></p><p class="notion-text"><span><span>So, if you’re dealing with a single frontend, you would better consider doing it from the frontend, because it’s a lot easier.</span></span></p><div class="notion-blank"> </div><p class="notion-text"><span><span>Before I start, I want to mention that the professional way to do it, is by not generating the avatar, but instead using static images for default avatars, because It’s quicker, simpler, less error-prone, more future-proof, and ultimately looks better than generating them programmatically.</span></span></p><p class="notion-text"><span><span>But, if you want to be really fancy like Google and have random colored circles and initials, you’re in the right place 😎</span></span></p><div class="notion-blank"> </div><p class="notion-text"><span><span>Let’s get started!</span></span></p><h1 class="notion-h1"><span><span>Avatars using initials</span></span></h1><pre class="notion-code language-python"><code class="language-python"># BUILT-IN
import re
import random

# PIP
from cairosvg import svg2png
from xml.sax.saxutils import escape as xml_escape

COLORS = [
    ['#DF7FD7', '#DF7FD7', '#591854'],
    ['#E3CAC8', '#DF8A82', '#5E3A37'],
    ['#E6845E', '#E05118', '#61230B'],
    ['#E0B050', '#E6CB97', '#614C23'],
    ['#9878AD', '#492661', '#C59BE0'],
    ['#787BAD', '#141961', '#9B9FE0'],
    ['#78A2AD', '#104F61', '#9BD1E0'],
    ['#78AD8A', '#0A6129', '#9BE0B3'],
]

INITIALS_SVG_TEMPLATE = """
&lt;svg xmlns="http://www.w3.org/2000/svg" 
    pointer-events="none" 
    width="200" height="200">
  &lt;defs>
    &lt;linearGradient id="grad">
    &lt;stop offset="0%" stop-color="{color1}" />
    &lt;stop offset="100%" stop-color="{color2}" />
    &lt;/linearGradient>
  &lt;/defs>
  &lt;rect width="200" height="200" rx="0" ry="0" fill="url(#grad)">&lt;/rect>
  &lt;text text-anchor="middle" y="50%" x="50%" dy="0.35em"
        pointer-events="auto" fill="{text_color}" font-family="sans-serif"
        style="font-weight: 400; font-size: 80px">{text}&lt;/text>
&lt;/svg>
""".strip()
INITIALS_SVG_TEMPLATE = re.sub('(\s+|\n)', ' ', INITIALS_SVG_TEMPLATE)

def get_png_avatar(text, output_file):

    initials = ':)'

    text = text.strip()
    if text:
        split_text = text.split(' ')
        if len(split_text) > 1:
            initials = split_text[0][0] + split_text[-1][0]
        else:
            initials = split_text[0][0]

    random_color = random.choice(COLORS)
    svg_avatar = INITIALS_SVG_TEMPLATE.format(**{
        'color1': random_color[0],
        'color2': random_color[1],
        'text_color': random_color[2],
        'text': xml_escape(initials.upper()),
    }).replace('\n', '')

    svg2png(svg_avatar, write_to=output_file)</code></pre><p class="notion-text"><span><span>What I did here is that I take a pre-prepared SVG template, I fill it with the initials, and background color, and that is it!!</span></span></p><p class="notion-text"><span><span>Let’s test it</span></span></p><pre class="notion-code language-python"><code class="language-python">import random
import string
from io import BytesIO
from PIL import Image

from default_avatars import get_png_avatar

rawIO = BytesIO()
get_png_avatar('AymaneMx', rawIO)
byteImg = Image.open(rawIO)
filename = ''.join(random.choices(string.ascii_uppercase + string.digits, k=8))
byteImg.save(filename + '.png', 'PNG')</code></pre><p class="notion-text"><span><span>Run, and the result will be a PNG image like this:</span></span></p><figure class="notion-asset-wrapper"><div style="padding-bottom:44.89795918367347%;position:relative"><img alt="Notion image" src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F717541d1-ac32-4264-bcd7-f05cece56545%2Favatars-initials-a.png?table=block&id=2db84202-700a-4e66-934a-274ac89db386&cache=v2" class="notion-image-inset"></div> <!----></figure><div class="notion-blank"> </div><figure class="notion-asset-wrapper"><div style="padding-bottom:74.64788732394366%;position:relative"><img alt="Notion image" src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ff694c32d-657f-4b57-8402-b126c4fda9df%2Fcool.gif?table=block&id=56f9dd38-1649-4d65-a3e3-600f45369249&cache=v2" class="notion-image-inset"></div> <!----></figure><p class="notion-text"><span><span>While playing with the SVG template, I discovered that I can make an icon or a logo instead of a text, which brings us to the next part.</span></span></p><h1 class="notion-h1"><span><span>Avatars using your Logo</span></span></h1><p class="notion-text"><span><span>To use your logo, you need only to change the </span><code class="notion-inline-code"><span>text</span></code><span> tag in the previous SVG template with a tag of your logo.</span></span></p><p class="notion-text"><span><span>For example, I will use the Twitter logo, I downloaded the SVG version from </span><a target="_blank" href="https://about.twitter.com/en_us/company/brand-resources.html" class="notion-link"><span>Twitter Brand Resources</span></a><span>.</span></span></p><p class="notion-text"><span><span>After opening it with any editor you will see:</span></span></p><pre class="notion-code language-xml"><pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Logo_FIXED<span class="token punctuation">"</span></span> <span class="token attr-name">data-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Logo — FIXED<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0 400 400<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>defs</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span>.cls-1{fill:none;}.cls-2{fill:#1da1f2;}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>defs</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Twitter_Logo_Blue<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cls-1<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>400<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>400<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cls-2<span class="token punctuation">"</span></span>
          <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span></code></pre></pre><p class="notion-text"><span><span>As you may notice, the </span><code class="notion-inline-code"><span>path</span></code><span> tag is the one responsible for the logo/icon.</span></span></p><p class="notion-text"><span><span>Let’s copy that in our SVG template, group it in a </span><code class="notion-inline-code"><span>g</span></code><span> tag, and add </span><code class="notion-inline-code"><span>fill</span></code><span> argument so we can change the color.</span></span></p><pre class="notion-code language-python"><code class="language-python">LOGO_SVG_TEMPLATE = """
&lt;svg xmlns="http://www.w3.org/2000/svg" width="400px" height="400px" viewBox="0 0 400 400">
    &lt;rect class="cls-1" width="400" height="400" fill="{color1}" />
    &lt;g width="400px" height="400px">
        &lt;path 
            fill="{logo_color}" 
            d="M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23"
        />
    &lt;/g>
    
&lt;/svg>
""".strip()
LOGO_SVG_TEMPLATE = re.sub('(\s+|\n)', ' ', LOGO_SVG_TEMPLATE)

def get_png_avatar_from_logo(output_file):

    random_color = random.choice(COLORS)

    svg_avatar = LOGO_SVG_TEMPLATE.format(**{
        'color1': random_color[0],
        'logo_color': random_color[2],
    }).replace('\n', '')

    svg2png(svg_avatar, write_to=output_file)</code></pre><p class="notion-text"><span><span>Let’s test</span></span></p><pre class="notion-code language-python"><code class="language-python">rawIO = BytesIO()
filename = ''.join(random.choices(string.ascii_uppercase + string.digits, k=8))
get_png_avatar_from_logo(rawIO)
byteImg = Image.open(rawIO)
byteImg.save(filename + '.png', 'PNG')</code></pre><p class="notion-text"><span><span>The result will be something like this:</span></span></p><figure class="notion-asset-wrapper"><div style="padding-bottom:45.879120879120876%;position:relative"><img alt="Notion image" src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F7aa30ff5-8ea7-4672-baf1-72bea9784c3c%2Favatars-logo-twitter.png?table=block&id=1d475580-9f8b-4418-8d90-a505b65f1896&cache=v2" class="notion-image-inset"></div> <!----></figure><div class="notion-callout notion-gray_background notion-gray_background_co"><div><span role="img" aria-label="🤔" class="notion-emoji notion-page-icon">
  🤔
</span></div> <div class="notion-callout-text"><span><span>Now, you are maybe wondering how can I get a SVG file of my logo?</span></span></div></div><p class="notion-text"><span><span>The answer is you can ask your designer gently for it, or you can do it yourself, using Photoshop/Illustrator by exporting your logo as an SVG file.</span></span></p><p class="notion-text"><span><span>But the simple way, (which is why you’re here) is by using an online tool as </span><a target="_blank" href="https://image.online-convert.com/convert-to-svg" class="notion-link"><span>online-convert</span></a><span>, I use it for my shitty logo, and here is the result.</span></span></p><figure class="notion-asset-wrapper"><div style="padding-bottom:51.57142857142857%;position:relative"><img alt="Notion image" src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fa59ab754-c72b-4292-b783-e989422d878c%2Favatars-logo-mine.png?table=block&id=7c2d0339-3532-4e42-89f0-939886f534ef&cache=v2" class="notion-image-inset"></div> <!----></figure><p class="notion-text"><span><span>Isn’t so fancy!!</span></span></p><h1 class="notion-h1"><span><span>That’s it!</span></span></h1><p class="notion-text"><span><span>Here you can check out the code, you will find also its Django integration.</span></span></p><div class="notion-row"><a target="_blank" rel="noopener noreferrer" href="https://github.com/aymaneMx/default-avatars" class="notion-bookmark"><div><div class="notion-bookmark-title"><span><span>GitHub - aymaneMx/default-avatars: This a demo how to generate cool avatars from a given string (email, username...) or from your logo using python.</span></span></div> <div class="notion-bookmark-description"><span><span>This a demo how to generate cool avatars from a given string (email, username...) or from your logo using python. - GitHub - aymaneMx/default-avatars: This a demo how to generate cool avatars from a given string (email, username...) or from your logo using python.</span></span></div> <div class="notion-bookmark-link"><img alt="GitHub - aymaneMx/default-avatars: This a demo how to generate cool avatars from a given string (email, username...) or from your logo using python." src="https://github.com/favicon.ico"> <div><span><span>https://github.com/aymaneMx/default-avatars</span></span></div></div></div> <div class="notion-bookmark-image"><img alt="GitHub - aymaneMx/default-avatars: This a demo how to generate cool avatars from a given string (email, username...) or from your logo using python." src="https://opengraph.githubassets.com/4b97e34f64af5049c9969a8969a435756a4e43148888538f8ff6f61ee8b64853/aymaneMx/default-avatars"></div></a></div></main></div></div></div> <div class="dark:bg-gray-900"><div class="wrapper mx-auto px-5 dark:bg-gray-900"><hr class="h-px mt-6 border-gray-300 max-w-screen-xl mx-auto"> <div class="md:py-5"><div class="flex flex-col items-center justify-between mt-6 md:mt-0 md:flex-row"><div class="logo flex items-center"><p class="text-sm text-gray-700 dark:text-gray-200 mx-1">© 2022 harshbanthiya Built with ♡ </p> <a aria-label="AymaneMx.com" href="https://github.com/aymaneMx/nuxt-portfolio-dev" class="text-sm underline text-gray-700 dark:text-gray-200">Open sourced on Github</a></div> <div><div class="wrapper flex flex-wrap text-base text-center m-3 dark:bg-gray-900 text-gray-800 dark:text-gray-200"><a aria-label="Github" href="https://github.com/harshbanthiya" class="social-link hover:text-primary mx-3"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="32" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" class="iconify iconify--mdi h-6 w-6"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33c.85 0 1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z" fill="currentColor"></path></svg></a> <a aria-label="Twitter" href="https://twitter.com/" class="social-link hover:text-primary mx-3"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="32" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" class="iconify iconify--mdi h-6 w-6"><path d="M22.46 6c-.77.35-1.6.58-2.46.69c.88-.53 1.56-1.37 1.88-2.38c-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29c0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15c0 1.49.75 2.81 1.91 3.56c-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07a4.28 4.28 0 0 0 4 2.98a8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21C16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56c.84-.6 1.56-1.36 2.14-2.23z" fill="currentColor"></path></svg></a> <a aria-label="LinkedIn" href="https://www.linkedin.com/in/harsh-banthiya-858a6820a/" class="social-link hover:text-primary mx-3"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="32" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" class="iconify iconify--mdi h-6 w-6"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z" fill="currentColor"></path></svg></a></div></div></div></div></div></div></div></div></div><script defer src="/_nuxt/static/1681343429/posts/fancy-avatars-in-python/state.js"></script><script src="/_nuxt/89b09f1.js" defer></script><script src="/_nuxt/5da1cc7.js" defer></script><script src="/_nuxt/35efdad.js" defer></script><script src="/_nuxt/e6dfa61.js" defer></script><script src="/_nuxt/28e6763.js" defer></script><script src="/_nuxt/6d32298.js" defer></script>
  </body>
</html>
