<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" name="format-detection" content="telephone=no"><meta data-n-head="ssr" data-hid="twitter:card" name="twitter:card" content="summary"><meta data-n-head="ssr" data-hid="twitter:site" name="twitter:site" content="Hersh / Harsh"><meta data-n-head="ssr" data-hid="twitter:creator" name="twitter:creator" content="Hersh / Harsh"><meta data-n-head="ssr" data-hid="og:type" name="og:type" content="website"><meta data-n-head="ssr" data-hid="og:site_name" name="og:site_name" content="Hersh / Harsh"><meta data-n-head="ssr" name="og:title" content="Building a Full-Text Search App Using Django, Docker and Elasticsearch" property="og:title" data-hid="og:title"><meta data-n-head="ssr" name="twitter:title" content="Building a Full-Text Search App Using Django, Docker and Elasticsearch" property="twitter:title" data-hid="twitter:title"><meta data-n-head="ssr" name="description" content="In this article, I will be giving you brief information about Elasticsearch, its installation, and some examples of usage." property="description" data-hid="description"><meta data-n-head="ssr" name="og:description" content="In this article, I will be giving you brief information about Elasticsearch, its installation, and some examples of usage." property="og:description" data-hid="og:description"><meta data-n-head="ssr" name="twitter:description" content="In this article, I will be giving you brief information about Elasticsearch, its installation, and some examples of usage." property="twitter:description" data-hid="twitter:description"><meta data-n-head="ssr" name="og:url" content="https://harshbanthiya.github.io//posts/building-a-full-text-search-app-using-django-docker-and-elasticsearch" property="og:url" data-hid="og:url"><meta data-n-head="ssr" name="og:image" content="https://www.notion.so/image/https:%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F8462e045-5003-40dc-9e59-24c568acc126%2Fdjango-docker-elasticsearch.webp?table=block&id=df2c2049-7505-4ab1-8260-d91df9eb8f3c&cache=v2" property="og:image" data-hid="og:image"><meta data-n-head="ssr" name="twitter:image" content="https://www.notion.so/image/https:%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F8462e045-5003-40dc-9e59-24c568acc126%2Fdjango-docker-elasticsearch.webp?table=block&id=df2c2049-7505-4ab1-8260-d91df9eb8f3c&cache=v2" property="twitter:image" data-hid="twitter:image"><meta data-n-head="ssr" name="keywords" content="python,django,elasticsearch,docker, python, django, developer, portfolio, docker, graphql, elasticsearch" property="keywords" data-hid="keywords"><meta data-n-head="ssr" name="article:published-time" content="2020-08-16" property="article:published-time" data-hid="article:published-time"><title>Building a Full-Text Search App Using Django, Docker and Elasticsearch</title><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" rel="canonical" href="https://harshbanthiya.github.io//posts/building-a-full-text-search-app-using-django-docker-and-elasticsearch"><link rel="preload" href="/_nuxt/89b09f1.js" as="script"><link rel="preload" href="/_nuxt/e6dfa61.js" as="script"><link rel="preload" href="/_nuxt/28e6763.js" as="script"><link rel="preload" href="/_nuxt/6d32298.js" as="script"><link rel="preload" href="/_nuxt/5da1cc7.js" as="script"><link rel="preload" href="/_nuxt/35efdad.js" as="script"><style data-vue-ssr-id="65b97e00:0 46f23c9d:0 5cfefefe:0 2a9bec5c:0 71589ff4:0">/*! tailwindcss v3.3.1 | MIT License | https://tailwindcss.com*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-feature-settings:normal;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scroll-snap-strictness:proximity;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 transparent;--tw-ring-shadow:0 0 transparent;--tw-shadow:0 0 transparent;--tw-shadow-colored:0 0 transparent}::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scroll-snap-strictness:proximity;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 transparent;--tw-ring-shadow:0 0 transparent;--tw-shadow:0 0 transparent;--tw-shadow-colored:0 0 transparent}.nuxt-progress{background-color:#000;height:2px;left:0;opacity:1;position:fixed;right:0;top:0;transition:width .1s,opacity .4s;width:0;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}.wrapper{max-width:1280px}.wrapper,.wrapper-small{margin-left:auto;margin-right:auto}.wrapper-small{max-width:1024px;padding-left:1.5rem;padding-right:1.5rem}.flex-center{align-items:center;display:flex;justify-content:center}.mobile-link{border-radius:.375rem;color:#111827;color:rgb(17 24 39/var(--tw-text-opacity));color:#fff;color:rgb(255 255 255/var(--tw-text-opacity));display:block;padding:.5rem .75rem}.mobile-link,.nav-link{--tw-text-opacity:1;font-size:1.125rem;font-weight:500;line-height:1.75rem;text-align:center}.nav-link{color:#374151;color:rgb(55 65 81/var(--tw-text-opacity));margin:auto auto auto 1.25rem}.nav-link:hover{--tw-text-opacity:1;color:#4c1d95;color:rgb(76 29 149/var(--tw-text-opacity))}.dark .nav-link{--tw-text-opacity:1;color:#e5e7eb;color:rgb(229 231 235/var(--tw-text-opacity))}.dark .nav-link:hover{--tw-text-opacity:1;color:#4c1d95;color:rgb(76 29 149/var(--tw-text-opacity))}.notion{caret-color:#37352f;color:#37352f;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,"Apple Color Emoji",Arial,sans-serif,"Segoe UI Emoji","Segoe UI Symbol";font-size:16px;line-height:1.5}.notion-column>*,.notion-page>*,.notion>*{padding:3px 0}.notion *{box-sizing:border-box;margin-bottom:0;margin-top:0}.notion-red{color:#e03e3e}.notion-pink{color:#ad1a72}.notion-blue{color:#0b6e99}.notion-purple{color:#6940a5}.notion-teal{color:#0f7b6c}.notion-yellow{color:#dfab01}.notion-orange{color:#d9730d}.notion-brown{color:#64473a}.notion-gray{color:#9b9a97}.notion-red_background{background-color:#fbe4e4}.notion-pink_background{background-color:#f4dfeb}.notion-blue_background{background-color:#ddebf1}.notion-purple_background{background-color:#eae4f2}.notion-teal_background{background-color:#ddedea}.notion-yellow_background{background-color:#fbf3db}.notion-orange_background{background-color:#faebdd}.notion-brown_background{background-color:#e9e5e3}.notion-gray_background{background-color:#ebeced}.notion-red_background_co{background-color:hsla(0,74%,94%,.3)}.notion-pink_background_co{background-color:rgba(244,223,235,.3)}.notion-blue_background_co{background-color:rgba(221,235,241,.3)}.notion-purple_background_co{background-color:rgba(234,228,242,.3)}.notion-teal_background_co{background-color:rgba(221,237,234,.3)}.notion-yellow_background_co{background-color:hsla(45,80%,92%,.3)}.notion-orange_background_co{background-color:hsla(29,74%,92%,.3)}.notion-brown_background_co{background-color:hsla(20,12%,90%,.3)}.notion-gray_background_co{background-color:hsla(210,5%,93%,.3)}.notion b{font-weight:600}.notion-title{font-size:2.5em;font-weight:700;margin-bottom:.25em;margin-top:.75em}.notion-h1,.notion-h2,.notion-h3{font-weight:600;line-height:1.3;padding:3px 2px}.notion-h1{font-size:1.875em;margin-top:1.4em}.notion-h1:first-child{margin-top:0}.notion-h2{font-size:1.5em;margin-top:1.1em}.notion-h3{font-size:1.25em;margin-top:1em}.notion-emoji{font-family:"Apple Color Emoji",Arial,sans-serif,"Segoe UI Emoji","Segoe UI Symbol"}.notion-page-cover{display:block;height:30vh;min-height:30vh;-o-object-fit:cover;object-fit:cover;padding:0;width:100%}.notion-page{margin:0 auto;max-width:708px;padding:0;width:100%}@media only screen and (max-width:730px){.notion-page{padding:0 2vw}}.notion-page-offset{margin-top:96px}span.notion-page-icon-cover{display:inline-block;font-size:78px;height:78px;line-height:1.1;margin-left:0;width:78px}span.notion-page-icon-offset{margin-top:-42px}img.notion-page-icon-cover{border-radius:3px;height:124px;margin:8px;width:124px}img.notion-page-icon-offset{margin-top:-80px}.notion-full-width{max-width:100%;padding:0 40px}.notion-small-text{font-size:14px}.notion-quote{border-left:3px solid;font-size:1.2em;margin:0;padding:.2em .9em;white-space:pre-wrap;word-break:break-word}.notion-hr{border-bottom-width:0;border-color:rgba(55,53,47,.09);border-top-width:1px;margin:6px 0;padding:0}.notion-link{color:inherit;-webkit-text-decoration:underline;text-decoration:underline;text-decoration-color:inherit;word-break:break-word}.notion-blank{margin-bottom:1px;margin-top:1px;min-height:1rem;padding:3px 2px}.notion-page-link{color:#37352f;display:flex;height:30px;margin:1px 0;-webkit-text-decoration:none;text-decoration:none;transition:background .12s ease-in 0s}.notion-page-link:hover{background:rgba(55,53,47,.08)}.notion-page-icon{line-height:1.4;margin-left:2px;margin-right:4px}img.notion-page-icon{border-radius:3px;display:block;height:20px;-o-object-fit:cover;object-fit:cover;width:20px}.notion-icon{color:rgba(55,53,47,.4);display:block;height:18px;width:18px}.notion-page-text{border-bottom:1px solid rgba(55,53,47,.16);font-weight:500;line-height:1.3;margin:1px 0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.notion-inline-code{background:hsla(44,6%,50%,.15);border-radius:3px;color:#eb5757;font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:85%;padding:.2em .4em}.notion-list{margin:.6em 0}.notion-list-disc{list-style-type:disc}.notion-list-disc,.notion-list-numbered{margin-bottom:0;margin-top:0;padding-left:1.6em}.notion-list-numbered{list-style-type:decimal}[dir=rtl] .notion-list-disc{padding-right:1.7em}[dir=rtl] .notion-list-numbered{padding-right:1.6em}.notion-list-disc li{padding-left:.1em}.notion-list-numbered li{padding-left:.2em}.notion-list li{padding:4px 0;white-space:pre-wrap}.notion-list>.notion-text{margin-left:-1.6em;padding-left:0}.notion-asset-wrapper{margin:.5rem auto;max-width:100%}.notion-asset-wrapper>img{max-width:100%}.notion-asset-wrapper iframe{border:none}.notion-text{caret-color:#37352f;white-space:pre-wrap}.notion-block,.notion-text{padding:3px 2px}.notion .notion-code{font-size:85%}.notion-code{background:#f7f6f3;border-radius:3px;box-sizing:border-box;display:block;font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace;margin:4px 0;overflow-x:auto;padding:30px 16px 30px 20px;-moz-tab-size:2;-o-tab-size:2;tab-size:2}.notion-column{padding-bottom:12px;padding-top:12px}.notion-column>:first-child{margin-left:0;margin-right:0;margin-top:0}.notion-column>:last-child{margin-bottom:0;margin-left:0;margin-right:0}.notion-bookmark,.notion-row{display:flex;overflow:hidden}.notion-bookmark{border:1px solid rgba(55,53,47,.16);border-radius:3px;box-sizing:border-box;margin:4px 0;-webkit-text-decoration:none;text-decoration:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}.notion-bookmark>div:first-child{color:#37352f;flex:4 1 180px;overflow:hidden;padding:12px 14px 14px;text-align:left}.notion-bookmark-title{font-size:14px;line-height:20px;margin-bottom:2px;min-height:24px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.notion-bookmark-description{font-size:12px;height:32px;line-height:16px;opacity:.6;overflow:hidden}.notion-bookmark-link{display:flex;margin-top:6px}.notion-bookmark-link>img{height:16px;margin-right:6px;min-width:16px;width:16px}.notion-bookmark-link>div{color:#37352f;font-size:12px;line-height:16px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.notion-bookmark-image{flex:1 1 180px;position:relative}.notion-bookmark-image img{height:100%;-o-object-fit:cover;object-fit:cover;position:absolute;width:100%}.notion-column .notion-bookmark-image{display:none}@media (max-width:640px){.notion-bookmark-image{display:none}.notion-row{flex-direction:column}.notion-column>*,.notion-row>*{width:100%!important}}.notion-spacer:last-child{display:none}.notion-image-inset{border-radius:1px;bottom:0;height:100%;left:0;position:absolute;right:0;top:0;width:100%}.notion-image-caption{caret-color:#37352f;color:rgba(55,53,47,.6);font-size:14px;line-height:1.4;padding:6px 0;white-space:pre-wrap;word-break:break-word}.notion-callout{align-items:center;border-radius:3px;border-width:1px;box-sizing:border-box;display:inline-flex;margin:4px 0;padding:16px 16px 16px 12px;width:100%}.notion-callout-text{margin-left:8px;white-space:pre-line}.notion-toggle{padding:3px 2px}.notion-toggle>summary{cursor:pointer;outline:0}.notion-toggle>div{margin-left:1.1em}.notion-table,.notion-td,.notion-th{border:1px solid rgba(55,53,47,.09);border-collapse:collapse}.notion-table{border-left:none;border-right:none;border-spacing:0;white-space:nowrap;width:100%}.notion-td,.notion-th{font-size:14px;font-weight:400;line-height:1.5;min-height:1.5em;padding:.25em .5em;text-align:left}.notion-td.notion-bold{font-weight:500}.notion-th{color:rgba(55,53,47,.6);font-size:14px}.notion-td:first-child,.notion-th:first-child{border-left:0}.notion-td:last-child,.notion-th:last-child{border-right:0}.notion-gallery{grid-gap:16px;border-top:1px solid rgba(55,53,47,.16);display:grid;gap:16px;grid-auto-rows:1fr;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));padding-bottom:4px;padding-top:16px;position:relative}.notion-gallery-card{background:#fff;border-radius:3px;box-shadow:0 0 0 1px hsla(0,0%,6%,.1),0 2px 4px hsla(0,0%,6%,.1);color:inherit;display:block;height:100%;overflow:hidden;position:static;-webkit-text-decoration:none;text-decoration:none;transition:background .1s ease-out 0s}.notion-gallery-content{font-size:12px;padding:8px 10px 6px;white-space:nowrap}.notion-gallery-data.is-first{caret-color:#37352f;font-size:14px;font-weight:500;line-height:1.5;min-height:21px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-word}.notion-page-header{-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;text-size-adjust:100%;background:#fff;box-sizing:border-box;font-size:14px;height:45px;justify-content:space-between;line-height:1.2;max-width:100vw;min-height:45px;padding:0 12px;position:sticky;top:0;width:100%}.notion-nav-breadcrumbs,.notion-page-header{align-items:center;display:flex;flex-direction:row}.notion-nav-breadcrumbs{flex-grow:0;height:100%;margin-right:8px;min-width:0}.notion-nav-breadcrumb{align-items:center;background:0 0;border-radius:3px;color:#37352f;cursor:pointer;display:inline-flex;flex-direction:row;justify-content:center;margin:1px 0;padding:4px 6px;-webkit-text-decoration:none;text-decoration:none;transition:background .12s ease-in 0s;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap}img.notion-nav-icon{height:18px!important;width:18px!important}.notion-nav-icon{color:#000;font-size:18px;line-height:1.1;margin-right:6px}.notion-nav-breadcrumb:not(.notion-nav-breadcrumb-active):hover{background:rgba(55,53,47,.08)}.notion-nav-breadcrumb:not(.notion-nav-breadcrumb-active):active{background:rgba(55,53,47,.16)}.notion-nav-breadcrumb.notion-nav-breadcrumb-active{cursor:default}.notion-nav-spacer{color:rgba(55,53,47,.4);margin:0 2px}.notion-simple-table{border-collapse:collapse;border-spacing:0}.notion-simple-table-data{fill:inherit;border:1px solid #e9e9e7;color:inherit;max-width:178px;min-height:32px;min-width:178px;position:relative;vertical-align:top}.notion-simple-table-cell-text{background-color:transparent;caret-color:transparent;font-size:14px;line-height:20px;max-width:100%;padding:7px 9px;white-space:pre-wrap;width:100%;word-break:break-word}.notion-simple-table-header{background:#f7f6f3;font-weight:500}.dark .notion-callout-text,.dark .notion-list,.dark .notion-text,.dark .notion-title,.dark h1,.dark h2,.dark h3,.dark h4,.dark p,.dark span{--tw-text-opacity:1;color:#fff;color:rgb(255 255 255/var(--tw-text-opacity))}.dark .notion-link:hover{--tw-bg-opacity:1;background-color:#ef4444;background-color:rgb(239 68 68/var(--tw-bg-opacity))}</style><link rel="preload" href="/_nuxt/static/1681343429/posts/building-a-full-text-search-app-using-django-docker-and-elasticsearch/state.js" as="script"><link rel="preload" href="/_nuxt/static/1681343429/posts/building-a-full-text-search-app-using-django-docker-and-elasticsearch/payload.js" as="script"><link rel="preload" href="/_nuxt/static/1681343429/manifest.js" as="script">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div class="flex flex-col h-screen justify-between dark:bg-gray-900"><div class="dark:bg-gray-900"><div><nav class="wrapper py-6 dark:bg-gray-900"><div class="px-10 flex justify-between items-center"><div class="logo"><a href="/" class="nuxt-link-active"><h1 class="text-2xl font-semibold text-gray-700 dark:text-gray-200">Harsh / Hersh</h1></a></div> <div class="flex flex-row"><a href="/posts" class="nav-link nuxt-link-active">Blog</a> <a href="/about" class="nav-link">About</a> <div class="rounded-full cursor-pointer ml-5 bg-gray-100 p-2 text-gray-900 dark:bg-gray-800 dark:text-gray-100 focus:outline-none"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg></div></div></div></nav></div></div> <div class="mb-auto dark:bg-gray-900"><div><div class="notion"><!----> <main class="notion-page notion-page-offset"><!----> <div class="notion-title"><span><span>Building a Full-Text Search App Using Django, Docker and Elasticsearch</span></span></div> <figure class="notion-asset-wrapper"><div style="padding-bottom:42.5531914893617%;position:relative"><img alt="Notion image" src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fd5757888-e757-4a04-91f0-aa01d8848b0a%2Fdjango-docker-elasticsearch.png?table=block&id=9e4a8348-dda7-4854-b8bc-c5fbef31de36&cache=v2" class="notion-image-inset"></div> <!----></figure><div class="notion-callout notion-gray_background notion-gray_background_co"><div><span role="img" aria-label="üçä" class="notion-emoji notion-page-icon">
  üçä
</span></div> <div class="notion-callout-text"><span><span>This article is originally published on¬†</span><a target="_blank" href="https://www.obytes.com/blog/building-a-full-text-search-app-using-django-docker-and-elasticsearch" class="notion-link"><span>https://obytes.com/</span></a></span></div></div><p class="notion-text"><span><span>In this article, I will be giving you brief information about Elasticsearch, its installation, and some examples of usage.</span></span></p><h1 class="notion-h1"><span><span>Elasticsearch ‚Äì some basic concepts</span></span></h1><p class="notion-text"><span><span>Elasticsearch is a real-time distributed and open-source full-text search and analytics engine. It is accessible from a RESTful web service interface and uses schema-less JSON (JavaScript Object Notation) documents to store data. It is built on Java programming language, which enables Elasticsearch to run on different platforms. It enables users to explore a very large amount of data at a very high speed.</span></span></p><div class="notion-blank">¬†</div><p class="notion-text"><span><span>There are some Elasticsearch basics that -once you‚Äôve internalized them- make the learning curve less traumatic. I‚Äôve put together 4 of the most important concepts:</span></span></p><p class="notion-text"><span><b><span>Fields:</span></b><span>¬†the smallest individual unit of data in Elasticsearch. Each field has a defined datatype; the core data-types (strings, numbers, dates, booleans), or complex data-types (object and nested).</span></span></p><p class="notion-text"><span><b><span>Index:</span></b><span>¬†a collection of different types of documents and document properties. It can be compared to a database in the world of relational databases.</span></span></p><p class="notion-text"><span><b><span>Documents:</span></b><span>¬†a collection of fields defined in the JSON format in a specific manner. Every document belongs to a type and resides inside an index. In the world of relational databases, documents can be compared to a row in a table.</span></span></p><p class="notion-text"><span><b><span>Mapping:</span></b><span>¬†a collection of documents sharing a set of common fields present in the same index. Again, it‚Äôs like a schema in the world of relational databases.</span></span></p><div class="notion-blank">¬†</div><p class="notion-text"><span><span>‚ö†Ô∏è It is worth mentioning that Elasticsearch can‚Äôt be used as a database, it wasn‚Äôt built for this purpose. Due to that, it‚Äôs best if you use it as an additional service in your project next to PostgreSQL, MySQL, or other databases.</span></span></p><h1 class="notion-h1"><span><span>Using Elasticsearch with Django</span></span></h1><p class="notion-text"><span><span>Many tutorials are using¬†</span><a target="_blank" href="https://django-haystack.readthedocs.io/" class="notion-link"><span>Django-Haystack</span></a><span>, which is very widely used in the Django community, as a modular search to plug ElasticSearch (or any other search engine such as Solr, Whoosh, Xapian, etc.), for its minimal configurations and the query syntax is similar to Django‚Äôs ORM.</span></span></p><p class="notion-text"><span><span>I have used it with¬†</span><a target="_blank" href="https://lucene.apache.org/solr/" class="notion-link"><span>Solr</span></a><span>¬†recently in a project and I was impressed with how easy it implemented, I loved it, but I will not use it in this article, I think that Elasticsearch itself is simple to use.</span></span></p><p class="notion-text"><span><span>I will be using Docker to run Elasticsearch.</span></span></p><div class="notion-row"><a target="_blank" rel="noopener noreferrer" href="https://github.com/aymaneMx/django-elasticsearch" class="notion-bookmark"><div><div class="notion-bookmark-title"><span><span>GitHub - aymaneMx/django-elasticsearch: Simple project to test Elasticsearch with Django, build on docker.</span></span></div> <div class="notion-bookmark-description"><span><span>Simple project to test Elasticsearch with Django, build on docker. docker-compose up -d --build Now visit http://127.0.0.1:8000/ Run: docker-compose run web python manage.py migrate docker-compose run web python manage.py load_posts 20 Now, let's hop into the interactive Python shell and play around with ElasticSearch queries: docker-compose run web python manage.py shell from posts.documents import PostDocument posts = PostDocument.search() for hit in posts: print(hit.title) Check out the article for this project, for more examples of use.</span></span></div> <div class="notion-bookmark-link"><img alt="GitHub - aymaneMx/django-elasticsearch: Simple project to test Elasticsearch with Django, build on docker." src="https://github.com/favicon.ico"> <div><span><span>https://github.com/aymaneMx/django-elasticsearch</span></span></div></div></div> <div class="notion-bookmark-image"><img alt="GitHub - aymaneMx/django-elasticsearch: Simple project to test Elasticsearch with Django, build on docker." src="https://repository-images.githubusercontent.com/286338772/28148180-dd0c-11ea-92d8-040c83a920be"></div></a></div><p class="notion-text"><span><span>Here is the¬†</span><a target="_blank" href="https://github.com/obytes/django-elasticsearch-example" class="notion-link"><span>source code</span></a><span>¬†I will be using, so you can see exactly what is going on.</span></span></p><figure class="notion-asset-wrapper"><div style="padding-bottom:69.44444444444444%;position:relative"><img alt="Notion image" src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F0ae7acff-b21d-4aa6-970b-08642f02c7fa%2Flet-us-begin.gif?table=block&id=20ae8daa-854e-4b37-ab22-cfcd509b2845&cache=v2" class="notion-image-inset"></div> <!----></figure><h2 class="notion-h2"><span><span>Elasticsearch instance</span></span></h2><p class="notion-text"><span><span>Edit¬†</span><code class="notion-inline-code"><span>docker-compose.yml</span></code><span>¬†in your project directory to add an ES service:</span></span></p><pre class="notion-code language-yaml"><code class="language-yaml">es:
    image: elasticsearch:7.8.1
    environment:
      - discovery.type=single-node
    ports:
      - "9200:9200"</code></pre><p class="notion-text"><span><span>Then add¬†</span><code class="notion-inline-code"><span>es</span></code><span>¬†to the services that Django app service depends on, and¬†</span><code class="notion-inline-code"><span>ELASTICSEARCH_DSL_HOSTS=es:9200</span></code><span>¬†to¬†</span><code class="notion-inline-code"><span>docker-compose.env</span></code><span>:</span></span></p><pre class="notion-code language-yaml"><code class="language-yaml">web:
    build: .
    command: python /code/manage.py runserver 0.0.0.0:8000
    volumes:
      - .:/code
    ports:
      - 8000:8000
    env_file:
      - docker-compose.env
    depends_on:
      - db
      - es    &lt;--- here</code></pre><p class="notion-text"><span><span>Now run¬†</span><code class="notion-inline-code"><span>docker-compose up -d --build</span></code></span></p><p class="notion-text"><span><span>You can check if it works correctly via curl: </span><code class="notion-inline-code"><span>curl -X GET localhost:9200/_cluster/health</span></code></span></p><h2 class="notion-h2"><span><span>Set up ElasticSearch</span></span></h2><p class="notion-text"><span><span>let‚Äôs Install Django Elasticsearch DSL. Use your favorite Python package manager to install the app from PyPI, I use pipenv.</span></span></p><pre class="notion-code language-bash"><code class="language-bash">$ pipenv install django-elasticsearch-dsl</code></pre><p class="notion-text"><span><span>As with most Django applications, you should add¬†</span><code class="notion-inline-code"><span>django_elasticsearch_dsl</span></code><span>¬†to the </span><code class="notion-inline-code"><span>INSTALLED_APPS</span></code><span> within your settings file:</span></span></p><pre class="notion-code language-python"><code class="language-python">INSTALLED_APPS = [
    ...
    'django_elasticsearch_dsl',
    ...
]</code></pre><p class="notion-text"><span><span>You must then define </span><code class="notion-inline-code"><span>ELASTICSEARCH_DSL</span></code><span> in your Django settings.</span></span></p><pre class="notion-code language-python"><code class="language-python"># Elasticsearch
ELASTICSEARCH_DSL = {
    'default': {
        'hosts': os.getenv("ELASTICSEARCH_DSL_HOSTS", 'localhost:9200')
    },
}</code></pre><h2 class="notion-h2"><span><span>Index data into ElasticSearch</span></span></h2><p class="notion-text"><span><span>Let‚Äôs consider the following model:</span></span></p><pre class="notion-code language-python"><code class="language-python">class Post(models.Model):
    title = models.CharField(max_length=128)
    content = models.CharField(max_length=5000)
    created_at = models.DateTimeField(default=timezone.now)
    likes = models.PositiveIntegerField(default=0)
    slug = models.SlugField(max_length=128, db_index=True, null=True)
    draft = models.BooleanField(default=True)

    user = models.ForeignKey(
        User,
        related_name='posts',
        on_delete=models.CASCADE
    )

    def __str__(self):
        return self.title

    class Meta:
        app_label = 'posts'</code></pre><p class="notion-text"><span><span>Then we should run the migrations:</span></span></p><pre class="notion-code language-bash"><code class="language-bash">docker-compose run web python manage.py makemigrations
docker-compose run web python manage.py migrate</code></pre><p class="notion-text"><span><span>Now let‚Äôs define ElasticSearch index, It required to define Document class in¬†</span><code class="notion-inline-code"><span>documents.py</span></code><span>¬†in your app directory.</span></span></p><pre class="notion-code language-python"><code class="language-python">from django.contrib.auth import get_user_model
from django_elasticsearch_dsl import Document, fields
from django_elasticsearch_dsl.registries import registry
from .models import Post, Reply

User = get_user_model()

@registry.register_document
class PostDocument(Document):
    user = fields.ObjectField(properties={
        'id': fields.IntegerField(),
        'username': fields.TextField(),
    })

    class Index:
        name = 'posts'
        settings = {'number_of_shards': 1,
                    'number_of_replicas': 0}

    class Django:
        model = Post

        fields = [
            'title',
            'content',
            'created_at',
            'likes',
            'draft',
            'slug',
        ]

    def get_queryset(self):
        return super(PostDocument, self).get_queryset().select_related(
            'user'
        )

    def get_instances_from_related(self, related_instance):
        if isinstance(related_instance, User):
            return related_instance.posts.all()
        elif isinstance(related_instance, Reply):
            return related_instance.post</code></pre><h2 class="notion-h2"><span><span>Examples of usage</span></span></h2><p class="notion-text"><span><span>To populate the database with some content, I made a command for that reason, just run:</span></span></p><pre class="notion-code language-bash"><code class="language-bash">docker-compose run web python manage.py load_posts 20</code></pre><p class="notion-text"><span><span>Now, let‚Äôs hop into the interactive Python shell (</span><code class="notion-inline-code"><span>docker-compose run web python manage.py shell</span></code><span>) and play around with ElasticSearch queries:</span></span></p><pre class="notion-code language-bash"><code class="language-bash">>>> from posts.documents import PostDocument
>>> posts = PostDocument.search()
>>> for hit in posts:
...     print(hit.title)
...
Design half three bar quickly material center.
Author true left. Position entire someone study be.
School draw individual sell produce brother.
Truth drug compare TV modern.
Expert apply baby reveal team along.
Beautiful for suddenly half.
Plant argue enough less order receive sing.
Store economy offer decision industry.
Beat chair affect assume score occur include laugh.
Language poor cell fish worry ready industry use.
>>></code></pre><p class="notion-text"><span><span>Next, I gathered here a list of examples of use you may need:</span></span></p><pre class="notion-code language-python"><code class="language-python">search = PostDocument.search()

# Filter by single field equal to a value
search = search.query('match', draft=False)

# Filter by single field containing a value
search = search.filter('match_phrase', title="value")

# Add the query to the Search object
from elasticsearch_dsl import Q
q = Q("multi_match", query='python django', fields=['title', 'content'])
search = search.query(q)

# Query combination
or_q = Q("match", title='python') | Q("match", title='django')
and_q = Q("match", title='python') & Q("match", title='django')
search = search.query(or_q)

# Exclude items from your query
search = search.exclude('match', draft=True)

# Filter documents that contain terms within a provided range.
# eg: the posts created for the past day
search = search.filter('range', created_at={"gte": "now-1d"})

# Ordering
# prefixed by the - sign to specify a descending order.
search = search.sort('-likes', 'created_at')</code></pre><p class="notion-text"><span><span>Quick quiz for you üòÑ you can submit your answer in the comments üëá</span></span></p><div class="notion-callout notion-gray_background notion-gray_background_co"><div><span role="img" aria-label="‚ùì" class="notion-emoji notion-page-icon">
  ‚ùì
</span></div> <div class="notion-callout-text"><span><em><span>How to get the published posts created in the past week that contains the word ‚Äòuse‚Äô in its title/content?</span></em></span></div></div><h1 class="notion-h1"><span><span>That‚Äôs it!</span></span></h1><p class="notion-text"><span><span>To be honest, this got quite long. If you are patient enough to read this full and find it interesting then please share it.</span></span></p></main></div></div></div> <div class="dark:bg-gray-900"><div class="wrapper mx-auto px-5 dark:bg-gray-900"><hr class="h-px mt-6 border-gray-300 max-w-screen-xl mx-auto"> <div class="md:py-5"><div class="flex flex-col items-center justify-between mt-6 md:mt-0 md:flex-row"><div class="logo flex items-center"><p class="text-sm text-gray-700 dark:text-gray-200 mx-1">¬© 2022 harshbanthiya Built with ‚ô° </p> <a aria-label="AymaneMx.com" href="https://github.com/aymaneMx/nuxt-portfolio-dev" class="text-sm underline text-gray-700 dark:text-gray-200">Open sourced on Github</a></div> <div><div class="wrapper flex flex-wrap text-base text-center m-3 dark:bg-gray-900 text-gray-800 dark:text-gray-200"><a aria-label="Github" href="https://github.com/harshbanthiya" class="social-link hover:text-primary mx-3"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="32" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" class="iconify iconify--mdi h-6 w-6"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33c.85 0 1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z" fill="currentColor"></path></svg></a> <a aria-label="Twitter" href="https://twitter.com/" class="social-link hover:text-primary mx-3"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="32" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" class="iconify iconify--mdi h-6 w-6"><path d="M22.46 6c-.77.35-1.6.58-2.46.69c.88-.53 1.56-1.37 1.88-2.38c-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29c0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15c0 1.49.75 2.81 1.91 3.56c-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07a4.28 4.28 0 0 0 4 2.98a8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21C16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56c.84-.6 1.56-1.36 2.14-2.23z" fill="currentColor"></path></svg></a> <a aria-label="LinkedIn" href="https://www.linkedin.com/in/harsh-banthiya-858a6820a/" class="social-link hover:text-primary mx-3"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="32" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" class="iconify iconify--mdi h-6 w-6"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z" fill="currentColor"></path></svg></a></div></div></div></div></div></div></div></div></div><script defer src="/_nuxt/static/1681343429/posts/building-a-full-text-search-app-using-django-docker-and-elasticsearch/state.js"></script><script src="/_nuxt/89b09f1.js" defer></script><script src="/_nuxt/5da1cc7.js" defer></script><script src="/_nuxt/35efdad.js" defer></script><script src="/_nuxt/e6dfa61.js" defer></script><script src="/_nuxt/28e6763.js" defer></script><script src="/_nuxt/6d32298.js" defer></script>
  </body>
</html>
