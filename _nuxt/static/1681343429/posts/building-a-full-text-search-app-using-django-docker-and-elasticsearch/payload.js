__NUXT_JSONP__("/posts/building-a-full-text-search-app-using-django-docker-and-elasticsearch", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ){return {data:[{blockMap:{"df2c2049-7505-4ab1-8260-d91df9eb8f3c":{role:f,value:{id:g,version:i,type:"page",properties:{"0#}p":[["‚Ä£",[["d",{type:"date",start_date:y}]]]],"IWg]":[[u]],MpSo:[[z]],"u\\k=":[[A,[[p,B]]]],"v\u003CK]":[["python,django,elasticsearch,docker"]],"ysX^":[["Yes"]],title:[[C]]},content:[D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA],format:{copied_from_pointer:{id:aB,table:c,spaceId:h}},created_time:aC,last_edited_time:aC,parent_id:v,parent_table:aD,alive:d,copied_from:aB,file_ids:["8462e045-5003-40dc-9e59-24c568acc126"],created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"cb15b9e3-858a-489a-b7b5-93c72a8e1055":{role:f,value:{id:"cb15b9e3-858a-489a-b7b5-93c72a8e1055",version:46,type:"collection_view_page",view_ids:["9b95e6ed-f428-46a4-907a-a0e2181e3c47","d0e38ec1-8675-45e6-bbe4-b5b13811fe74","4bb38824-35dd-4519-bfc1-131ff28c6bdc","8d5a42e3-e2ab-4420-b197-bb2971ba5df9","c405c02d-773d-473b-ac90-f04ee17bcace"],collection_id:v,format:{collection_pointer:{id:v,table:aD,spaceId:e},copied_from_pointer:{id:aE,table:c,spaceId:h}},permissions:[{role:"editor",type:"user_permission",user_id:a},{role:f,type:"public_permission",added_timestamp:1681337110195}],created_by:aF,created_time:1681336287880,last_edited_by:aF,last_edited_time:1681337149073,parent_id:e,parent_table:"space",alive:d,copied_from:aE,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"9e4a8348-dda7-4854-b8bc-c5fbef31de36":{role:f,value:{id:D,version:i,type:aG,properties:{size:[["76.3KB"]],title:[["django-docker-elasticsearch.png"]],source:[[aH]]},format:{block_width:720,block_height:200,display_source:aH,block_full_width:w,block_page_width:d,block_aspect_ratio:.425531914893617,copied_from_pointer:{id:aI,table:c,spaceId:h},block_preserve_scale:d},created_time:k,last_edited_time:k,parent_id:g,parent_table:c,alive:d,copied_from:aI,file_ids:["d5757888-e757-4a04-91f0-aa01d8848b0a"],created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"df189b92-2fe8-47dd-8daf-44fb4c58a033":{role:f,value:{id:E,version:i,type:aJ,properties:{title:[["This article is originally published on¬†"],["https:\u002F\u002Fobytes.com\u002F",[[p,"https:\u002F\u002Fwww.obytes.com\u002Fblog\u002Fbuilding-a-full-text-search-app-using-django-docker-and-elasticsearch"]]]]},format:{page_icon:"üçä",block_color:aK,copied_from_pointer:{id:aL,table:c,spaceId:h}},created_time:j,last_edited_time:j,parent_id:g,parent_table:c,alive:d,copied_from:aL,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"9af770ee-6735-4cfb-a6af-6019d324e85d":{role:f,value:{id:F,version:i,type:m,properties:{title:[[u]]},format:{copied_from_pointer:{id:aM,table:c,spaceId:h}},created_time:l,last_edited_time:l,parent_id:g,parent_table:c,alive:d,copied_from:aM,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"6e3557eb-83d4-45c6-8ec5-c543ebb3d7af":{role:f,value:{id:G,version:i,type:x,properties:{title:[["Elasticsearch ‚Äì some basic concepts"]]},format:{copied_from_pointer:{id:aN,table:c,spaceId:h}},created_time:j,last_edited_time:j,parent_id:g,parent_table:c,alive:d,copied_from:aN,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"6518e39e-568f-410d-854e-a659df92e39f":{role:f,value:{id:H,version:i,type:m,properties:{title:[["Elasticsearch is a real-time distributed and open-source full-text search and analytics engine. It is accessible from a RESTful web service interface and uses schema-less JSON (JavaScript Object Notation) documents to store data. It is built on Java programming language, which enables Elasticsearch to run on different platforms. It enables users to explore a very large amount of data at a very high speed."]]},format:{copied_from_pointer:{id:aO,table:c,spaceId:h}},created_time:j,last_edited_time:j,parent_id:g,parent_table:c,alive:d,copied_from:aO,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"9750e615-ec20-49f9-aee8-dff5a3531c7a":{role:f,value:{id:I,version:i,type:m,format:{copied_from_pointer:{id:aP,table:c,spaceId:h}},created_time:k,last_edited_time:k,parent_id:g,parent_table:c,alive:d,copied_from:aP,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"175532e3-3c45-4658-9b2c-63e13851af65":{role:f,value:{id:J,version:i,type:m,properties:{title:[["There are some Elasticsearch basics that -once you‚Äôve internalized them- make the learning curve less traumatic. I‚Äôve put together 4 of the most important concepts:"]]},format:{copied_from_pointer:{id:aQ,table:c,spaceId:h}},created_time:j,last_edited_time:j,parent_id:g,parent_table:c,alive:d,copied_from:aQ,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"821a1074-97d3-43e1-92b2-849987d76fba":{role:f,value:{id:K,version:i,type:m,properties:{title:[["Fields:",[[r]]],["¬†the smallest individual unit of data in Elasticsearch. Each field has a defined datatype; the core data-types (strings, numbers, dates, booleans), or complex data-types (object and nested)."]]},format:{copied_from_pointer:{id:aR,table:c,spaceId:h}},created_time:j,last_edited_time:j,parent_id:g,parent_table:c,alive:d,copied_from:aR,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"aad72bb8-7e1c-4872-a174-a1472312c01a":{role:f,value:{id:L,version:i,type:m,properties:{title:[["Index:",[[r]]],["¬†a collection of different types of documents and document properties. It can be compared to a database in the world of relational databases."]]},format:{copied_from_pointer:{id:aS,table:c,spaceId:h}},created_time:j,last_edited_time:j,parent_id:g,parent_table:c,alive:d,copied_from:aS,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"f55259a0-967b-46a5-bc16-5f85b28e02a1":{role:f,value:{id:M,version:i,type:m,properties:{title:[["Documents:",[[r]]],["¬†a collection of fields defined in the JSON format in a specific manner. Every document belongs to a type and resides inside an index. In the world of relational databases, documents can be compared to a row in a table."]]},format:{copied_from_pointer:{id:aT,table:c,spaceId:h}},created_time:j,last_edited_time:j,parent_id:g,parent_table:c,alive:d,copied_from:aT,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"a5d8cf70-9ab4-4f2c-80d5-b8cd89b91799":{role:f,value:{id:N,version:i,type:m,properties:{title:[["Mapping:",[[r]]],["¬†a collection of documents sharing a set of common fields present in the same index. Again, it‚Äôs like a schema in the world of relational databases."]]},format:{copied_from_pointer:{id:aU,table:c,spaceId:h}},created_time:k,last_edited_time:k,parent_id:g,parent_table:c,alive:d,copied_from:aU,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"eaa4a4ff-3012-406f-b048-89bd41493ebb":{role:f,value:{id:O,version:i,type:m,format:{copied_from_pointer:{id:aV,table:c,spaceId:h}},created_time:j,last_edited_time:j,parent_id:g,parent_table:c,alive:d,copied_from:aV,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"551fdd9a-7727-4793-a114-fd4e7525a818":{role:f,value:{id:P,version:i,type:m,properties:{title:[["‚ö†Ô∏è It is worth mentioning that Elasticsearch can‚Äôt be used as a database, it wasn‚Äôt built for this purpose. Due to that, it‚Äôs best if you use it as an additional service in your project next to PostgreSQL, MySQL, or other databases."]]},format:{copied_from_pointer:{id:aW,table:c,spaceId:h}},created_time:k,last_edited_time:k,parent_id:g,parent_table:c,alive:d,copied_from:aW,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"69ac3be0-c50c-46a6-b0e4-ab3b2635eeff":{role:f,value:{id:Q,version:i,type:x,properties:{title:[["Using Elasticsearch with Django"]]},format:{copied_from_pointer:{id:aX,table:c,spaceId:h}},created_time:j,last_edited_time:j,parent_id:g,parent_table:c,alive:d,copied_from:aX,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"783df1c6-cf43-43d1-8fe7-d05c106ce68f":{role:f,value:{id:R,version:i,type:m,properties:{title:[["Many tutorials are using¬†"],["Django-Haystack",[[p,"https:\u002F\u002Fdjango-haystack.readthedocs.io\u002F"]]],[", which is very widely used in the Django community, as a modular search to plug ElasticSearch (or any other search engine such as Solr, Whoosh, Xapian, etc.), for its minimal configurations and the query syntax is similar to Django‚Äôs ORM."]]},format:{copied_from_pointer:{id:aY,table:c,spaceId:h}},created_time:l,last_edited_time:l,parent_id:g,parent_table:c,alive:d,copied_from:aY,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"0fa1df93-b9be-4bab-84ec-385e40540a15":{role:f,value:{id:S,version:i,type:m,properties:{title:[["I have used it with¬†"],["Solr",[[p,"https:\u002F\u002Flucene.apache.org\u002Fsolr\u002F"]]],["¬†recently in a project and I was impressed with how easy it implemented, I loved it, but I will not use it in this article, I think that Elasticsearch itself is simple to use."]]},format:{copied_from_pointer:{id:aZ,table:c,spaceId:h}},created_time:l,last_edited_time:l,parent_id:g,parent_table:c,alive:d,copied_from:aZ,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"8758dfa2-3a0d-4c04-991b-3449528ef67a":{role:f,value:{id:T,version:i,type:m,properties:{title:[["I will be using Docker to run Elasticsearch."]]},format:{copied_from_pointer:{id:a_,table:c,spaceId:h}},created_time:j,last_edited_time:j,parent_id:g,parent_table:c,alive:d,copied_from:a_,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"9c016316-a447-426e-bcf6-4f9bee274431":{role:f,value:{id:U,version:i,type:"bookmark",properties:{link:[["https:\u002F\u002Fgithub.com\u002FaymaneMx\u002Fdjango-elasticsearch"]],title:[["GitHub - aymaneMx\u002Fdjango-elasticsearch: Simple project to test Elasticsearch with Django, build on docker."]],description:[["Simple project to test Elasticsearch with Django, build on docker. docker-compose up -d --build Now visit http:\u002F\u002F127.0.0.1:8000\u002F Run: docker-compose run web python manage.py migrate docker-compose run web python manage.py load_posts 20 Now, let's hop into the interactive Python shell and play around with ElasticSearch queries: docker-compose run web python manage.py shell from posts.documents import PostDocument posts = PostDocument.search() for hit in posts: print(hit.title) Check out the article for this project, for more examples of use."]]},format:{bookmark_icon:"https:\u002F\u002Fgithub.com\u002Ffavicon.ico",bookmark_cover:"https:\u002F\u002Frepository-images.githubusercontent.com\u002F286338772\u002F28148180-dd0c-11ea-92d8-040c83a920be",copied_from_pointer:{id:a$,table:c,spaceId:h}},created_time:k,last_edited_time:k,parent_id:g,parent_table:c,alive:d,copied_from:a$,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"29c06e44-08fa-4bdf-a583-2604de21e04d":{role:f,value:{id:V,version:i,type:m,properties:{title:[["Here is the¬†"],["source code",[[p,"https:\u002F\u002Fgithub.com\u002Fobytes\u002Fdjango-elasticsearch-example"]]],["¬†I will be using, so you can see exactly what is going on."]]},format:{copied_from_pointer:{id:ba,table:c,spaceId:h}},created_time:k,last_edited_time:k,parent_id:g,parent_table:c,alive:d,copied_from:ba,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"20ae8daa-854e-4b37-ab22-cfcd509b2845":{role:f,value:{id:W,version:i,type:aG,properties:{size:[["1764.1KB"]],title:[["let-us-begin.gif"]],source:[[bb]]},format:{block_width:432,block_height:300,display_source:bb,block_full_width:w,block_page_width:w,block_aspect_ratio:.6944444444444444,copied_from_pointer:{id:bc,table:c,spaceId:h},block_preserve_scale:d},created_time:l,last_edited_time:l,parent_id:g,parent_table:c,alive:d,copied_from:bc,file_ids:["0ae7acff-b21d-4aa6-970b-08642f02c7fa"],created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"97139cde-c96d-456f-9132-5f01446249c7":{role:f,value:{id:X,version:i,type:s,properties:{title:[["Elasticsearch instance"]]},format:{copied_from_pointer:{id:bd,table:c,spaceId:h}},created_time:k,last_edited_time:k,parent_id:g,parent_table:c,alive:d,copied_from:bd,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"d2c5ef0e-e819-4fb0-80a6-5b4f3d2fd62e":{role:f,value:{id:Y,version:i,type:m,properties:{title:[["Edit¬†"],["docker-compose.yml",[[n]]],["¬†in your project directory to add an ES service:"]]},format:{copied_from_pointer:{id:be,table:c,spaceId:h}},created_time:j,last_edited_time:j,parent_id:g,parent_table:c,alive:d,copied_from:be,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"ad47a028-89e3-46f9-981b-3670f6e39a56":{role:f,value:{id:Z,version:i,type:o,properties:{title:[["es:\n    image: elasticsearch:7.8.1\n    environment:\n      - discovery.type=single-node\n    ports:\n      - \"9200:9200\""]],language:[[bf]]},format:{copied_from_pointer:{id:bg,table:c,spaceId:h}},created_time:l,last_edited_time:l,parent_id:g,parent_table:c,alive:d,copied_from:bg,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"0477547c-27ad-413c-bba8-0c39e486d1d5":{role:f,value:{id:_,version:i,type:m,properties:{title:[["Then add¬†"],["es",[[n]]],["¬†to the services that Django app service depends on, and¬†"],["ELASTICSEARCH_DSL_HOSTS=es:9200",[[n]]],["¬†to¬†"],["docker-compose.env",[[n]]],[":"]]},format:{copied_from_pointer:{id:bh,table:c,spaceId:h}},created_time:l,last_edited_time:l,parent_id:g,parent_table:c,alive:d,copied_from:bh,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"716dbf48-2ecc-400a-84d0-4de48bda1159":{role:f,value:{id:$,version:i,type:o,properties:{title:[["web:\n    build: .\n    command: python \u002Fcode\u002Fmanage.py runserver 0.0.0.0:8000\n    volumes:\n      - .:\u002Fcode\n    ports:\n      - 8000:8000\n    env_file:\n      - docker-compose.env\n    depends_on:\n      - db\n      - es    \u003C--- here"]],language:[[bf]]},format:{copied_from_pointer:{id:bi,table:c,spaceId:h}},created_time:k,last_edited_time:k,parent_id:g,parent_table:c,alive:d,copied_from:bi,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"4e54b3d3-6622-465a-80c5-29faa85384ff":{role:f,value:{id:aa,version:i,type:m,properties:{title:[["Now run¬†"],["docker-compose up -d --build",[[n]]]]},format:{copied_from_pointer:{id:bj,table:c,spaceId:h}},created_time:k,last_edited_time:k,parent_id:g,parent_table:c,alive:d,copied_from:bj,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"953cb820-1210-4a91-b716-116fecb4b0c1":{role:f,value:{id:ab,version:i,type:m,properties:{title:[["You can check if it works correctly via curl: "],["curl -X GET localhost:9200\u002F_cluster\u002Fhealth",[[n]]]]},format:{copied_from_pointer:{id:bk,table:c,spaceId:h}},created_time:l,last_edited_time:l,parent_id:g,parent_table:c,alive:d,copied_from:bk,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"aa9455a6-0489-4e8e-83bb-55c23624c5b4":{role:f,value:{id:ac,version:i,type:s,properties:{title:[["Set up ElasticSearch"]]},format:{copied_from_pointer:{id:bl,table:c,spaceId:h}},created_time:j,last_edited_time:j,parent_id:g,parent_table:c,alive:d,copied_from:bl,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"00552847-011a-44b7-a1b5-9e731ca085ca":{role:f,value:{id:ad,version:i,type:m,properties:{title:[["let‚Äôs Install Django Elasticsearch DSL. Use your favorite Python package manager to install the app from PyPI, I use pipenv."]]},format:{copied_from_pointer:{id:bm,table:c,spaceId:h}},created_time:k,last_edited_time:k,parent_id:g,parent_table:c,alive:d,copied_from:bm,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"3a2229c4-401a-4b55-8f3d-720e5cfea1b7":{role:f,value:{id:ae,version:i,type:o,properties:{title:[["$ pipenv install django-elasticsearch-dsl"]],language:[[t]]},format:{copied_from_pointer:{id:bn,table:c,spaceId:h}},created_time:l,last_edited_time:l,parent_id:g,parent_table:c,alive:d,copied_from:bn,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"cb995d33-4c03-416c-96f9-4a67c5d42d11":{role:f,value:{id:af,version:i,type:m,properties:{title:[["As with most Django applications, you should add¬†"],["django_elasticsearch_dsl",[[n]]],["¬†to the "],["INSTALLED_APPS",[[n]]],[" within your settings file:"]]},format:{copied_from_pointer:{id:bo,table:c,spaceId:h}},created_time:k,last_edited_time:k,parent_id:g,parent_table:c,alive:d,copied_from:bo,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"46fcaeae-709c-482a-a7f2-24d8dd1ebd4f":{role:f,value:{id:ag,version:i,type:o,properties:{title:[["INSTALLED_APPS = [\n    ...\n    'django_elasticsearch_dsl',\n    ...\n]"]],language:[[q]]},format:{copied_from_pointer:{id:bp,table:c,spaceId:h}},created_time:j,last_edited_time:j,parent_id:g,parent_table:c,alive:d,copied_from:bp,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"7f72b0d8-75a7-4336-b754-a88c4b63526d":{role:f,value:{id:ah,version:i,type:m,properties:{title:[["You must then define "],["ELASTICSEARCH_DSL",[[n]]],[" in your Django settings."]]},format:{copied_from_pointer:{id:bq,table:c,spaceId:h}},created_time:l,last_edited_time:l,parent_id:g,parent_table:c,alive:d,copied_from:bq,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"c19da2cc-8902-407c-bff2-e1b194cbee9d":{role:f,value:{id:ai,version:i,type:o,properties:{title:[["# Elasticsearch\nELASTICSEARCH_DSL = {\n    'default': {\n        'hosts': os.getenv(\"ELASTICSEARCH_DSL_HOSTS\", 'localhost:9200')\n    },\n}"]],language:[[q]]},format:{copied_from_pointer:{id:br,table:c,spaceId:h}},created_time:l,last_edited_time:l,parent_id:g,parent_table:c,alive:d,copied_from:br,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"1be881ed-0724-4bc5-863f-49a0a9c6da4f":{role:f,value:{id:aj,version:i,type:s,properties:{title:[["Index data into ElasticSearch"]]},format:{copied_from_pointer:{id:bs,table:c,spaceId:h}},created_time:j,last_edited_time:j,parent_id:g,parent_table:c,alive:d,copied_from:bs,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"d2c54487-9dd4-4d7e-b7fe-78fe970a99bc":{role:f,value:{id:ak,version:i,type:m,properties:{title:[["Let‚Äôs consider the following model:"]]},format:{copied_from_pointer:{id:bt,table:c,spaceId:h}},created_time:j,last_edited_time:j,parent_id:g,parent_table:c,alive:d,copied_from:bt,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"5dd2694b-c347-417c-8706-6fa37f03b6de":{role:f,value:{id:al,version:i,type:o,properties:{title:[["class Post(models.Model):\n    title = models.CharField(max_length=128)\n    content = models.CharField(max_length=5000)\n    created_at = models.DateTimeField(default=timezone.now)\n    likes = models.PositiveIntegerField(default=0)\n    slug = models.SlugField(max_length=128, db_index=True, null=True)\n    draft = models.BooleanField(default=True)\n\n    user = models.ForeignKey(\n        User,\n        related_name='posts',\n        on_delete=models.CASCADE\n    )\n\n    def __str__(self):\n        return self.title\n\n    class Meta:\n        app_label = 'posts'"]],language:[[q]]},format:{copied_from_pointer:{id:bu,table:c,spaceId:h}},created_time:j,last_edited_time:j,parent_id:g,parent_table:c,alive:d,copied_from:bu,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"d9ca0c74-6f68-4a20-925c-10be0d6e4fa6":{role:f,value:{id:am,version:i,type:m,properties:{title:[["Then we should run the migrations:"]]},format:{copied_from_pointer:{id:bv,table:c,spaceId:h}},created_time:l,last_edited_time:l,parent_id:g,parent_table:c,alive:d,copied_from:bv,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"f0925af3-0f90-43da-9807-03cafd346dcb":{role:f,value:{id:an,version:i,type:o,properties:{title:[["docker-compose run web python manage.py makemigrations\ndocker-compose run web python manage.py migrate"]],language:[[t]]},format:{copied_from_pointer:{id:bw,table:c,spaceId:h}},created_time:k,last_edited_time:k,parent_id:g,parent_table:c,alive:d,copied_from:bw,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"32977b78-b9fe-446a-a8f9-9af0733197b7":{role:f,value:{id:ao,version:i,type:m,properties:{title:[["Now let‚Äôs define ElasticSearch index, It required to define Document class in¬†"],["documents.py",[[n]]],["¬†in your app directory."]]},format:{copied_from_pointer:{id:bx,table:c,spaceId:h}},created_time:j,last_edited_time:j,parent_id:g,parent_table:c,alive:d,copied_from:bx,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"11583786-9b7e-467e-88ef-e895badba8fa":{role:f,value:{id:ap,version:i,type:o,properties:{title:[["from django.contrib.auth import get_user_model\nfrom django_elasticsearch_dsl import Document, fields\nfrom django_elasticsearch_dsl.registries import registry\nfrom .models import Post, Reply\n\nUser = get_user_model()\n\n@registry.register_document\nclass PostDocument(Document):\n    user = fields.ObjectField(properties={\n        'id': fields.IntegerField(),\n        'username': fields.TextField(),\n    })\n\n    class Index:\n        name = 'posts'\n        settings = {'number_of_shards': 1,\n                    'number_of_replicas': 0}\n\n    class Django:\n        model = Post\n\n        fields = [\n            'title',\n            'content',\n            'created_at',\n            'likes',\n            'draft',\n            'slug',\n        ]\n\n    def get_queryset(self):\n        return super(PostDocument, self).get_queryset().select_related(\n            'user'\n        )\n\n    def get_instances_from_related(self, related_instance):\n        if isinstance(related_instance, User):\n            return related_instance.posts.all()\n        elif isinstance(related_instance, Reply):\n            return related_instance.post"]],language:[[q]]},format:{copied_from_pointer:{id:by,table:c,spaceId:h}},created_time:l,last_edited_time:l,parent_id:g,parent_table:c,alive:d,copied_from:by,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"95e74bbd-3c04-4f77-87b8-c4bb11f9a0ca":{role:f,value:{id:aq,version:i,type:s,properties:{title:[["Examples of usage"]]},format:{copied_from_pointer:{id:bz,table:c,spaceId:h}},created_time:j,last_edited_time:j,parent_id:g,parent_table:c,alive:d,copied_from:bz,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"32b52c2f-60bd-4622-91d6-3a5fe0d9c86e":{role:f,value:{id:ar,version:i,type:m,properties:{title:[["To populate the database with some content, I made a command for that reason, just run:"]]},format:{copied_from_pointer:{id:bA,table:c,spaceId:h}},created_time:k,last_edited_time:k,parent_id:g,parent_table:c,alive:d,copied_from:bA,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"4ae4f41d-b759-4ee4-8bff-7930a240353d":{role:f,value:{id:as,version:i,type:o,properties:{title:[["docker-compose run web python manage.py load_posts 20"]],language:[[t]]},format:{copied_from_pointer:{id:bB,table:c,spaceId:h}},created_time:l,last_edited_time:l,parent_id:g,parent_table:c,alive:d,copied_from:bB,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"d42395a0-3af6-4010-bf06-c9f556aecbee":{role:f,value:{id:at,version:i,type:m,properties:{title:[["Now, let‚Äôs hop into the interactive Python shell ("],["docker-compose run web python manage.py shell",[[n]]],[") and play around with ElasticSearch queries:"]]},format:{copied_from_pointer:{id:bC,table:c,spaceId:h}},created_time:j,last_edited_time:j,parent_id:g,parent_table:c,alive:d,copied_from:bC,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"0ae58511-96dc-4739-bee4-51796666f873":{role:f,value:{id:au,version:i,type:o,properties:{title:[["\u003E\u003E\u003E from posts.documents import PostDocument\n\u003E\u003E\u003E posts = PostDocument.search()\n\u003E\u003E\u003E for hit in posts:\n...     print(hit.title)\n...\nDesign half three bar quickly material center.\nAuthor true left. Position entire someone study be.\nSchool draw individual sell produce brother.\nTruth drug compare TV modern.\nExpert apply baby reveal team along.\nBeautiful for suddenly half.\nPlant argue enough less order receive sing.\nStore economy offer decision industry.\nBeat chair affect assume score occur include laugh.\nLanguage poor cell fish worry ready industry use.\n\u003E\u003E\u003E"]],language:[[t]]},format:{copied_from_pointer:{id:bD,table:c,spaceId:h}},created_time:k,last_edited_time:k,parent_id:g,parent_table:c,alive:d,copied_from:bD,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"46926f87-b4a9-45c9-81cb-3630d7613a42":{role:f,value:{id:av,version:i,type:m,properties:{title:[["Next, I gathered here a list of examples of use you may need:"]]},format:{copied_from_pointer:{id:bE,table:c,spaceId:h}},created_time:k,last_edited_time:k,parent_id:g,parent_table:c,alive:d,copied_from:bE,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"39d1c733-4095-497d-a2a1-82cd85764733":{role:f,value:{id:aw,version:i,type:o,properties:{title:[["search = PostDocument.search()\n\n# Filter by single field equal to a value\nsearch = search.query('match', draft=False)\n\n# Filter by single field containing a value\nsearch = search.filter('match_phrase', title=\"value\")\n\n# Add the query to the Search object\nfrom elasticsearch_dsl import Q\nq = Q(\"multi_match\", query='python django', fields=['title', 'content'])\nsearch = search.query(q)\n\n# Query combination\nor_q = Q(\"match\", title='python') | Q(\"match\", title='django')\nand_q = Q(\"match\", title='python') & Q(\"match\", title='django')\nsearch = search.query(or_q)\n\n# Exclude items from your query\nsearch = search.exclude('match', draft=True)\n\n# Filter documents that contain terms within a provided range.\n# eg: the posts created for the past day\nsearch = search.filter('range', created_at={\"gte\": \"now-1d\"})\n\n# Ordering\n# prefixed by the - sign to specify a descending order.\nsearch = search.sort('-likes', 'created_at')"]],language:[[q]]},format:{copied_from_pointer:{id:bF,table:c,spaceId:h}},created_time:k,last_edited_time:k,parent_id:g,parent_table:c,alive:d,copied_from:bF,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"c1145bf0-8e6e-444a-bea8-bb20581b9c3a":{role:f,value:{id:ax,version:i,type:m,properties:{title:[["Quick quiz for you üòÑ you can submit your answer in the comments üëá"]]},format:{copied_from_pointer:{id:bG,table:c,spaceId:h}},created_time:j,last_edited_time:j,parent_id:g,parent_table:c,alive:d,copied_from:bG,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"8cd778eb-0f16-43f3-beb7-39f85ffdb91f":{role:f,value:{id:ay,version:i,type:aJ,properties:{title:[["How to get the published posts created in the past week that contains the word ‚Äòuse‚Äô in its title\u002Fcontent?",[["i"]]]]},format:{page_icon:"‚ùì",block_color:aK,copied_from_pointer:{id:bH,table:c,spaceId:h}},created_time:l,last_edited_time:l,parent_id:g,parent_table:c,alive:d,copied_from:bH,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"177b15f4-e2de-427d-8f48-a31fb2f1143f":{role:f,value:{id:az,version:i,type:x,properties:{title:[["That‚Äôs it!"]]},format:{copied_from_pointer:{id:bI,table:c,spaceId:h}},created_time:k,last_edited_time:k,parent_id:g,parent_table:c,alive:d,copied_from:bI,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}},"90bbb613-e949-4dad-afbb-cafb8f4699d2":{role:f,value:{id:aA,version:i,type:m,properties:{title:[["To be honest, this got quite long. If you are patient enough to read this full and find it interesting then please share it."]]},format:{copied_from_pointer:{id:bJ,table:c,spaceId:h}},created_time:l,last_edited_time:l,parent_id:g,parent_table:c,alive:d,copied_from:bJ,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:e}}},page:{id:g,created_at:y,description:u,slug:z,thumbnail:[{name:A,url:"https:\u002F\u002Fwww.notion.so\u002Fimage\u002Fhttps:%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F8462e045-5003-40dc-9e59-24c568acc126%2Fdjango-docker-elasticsearch.webp?table=block&id=df2c2049-7505-4ab1-8260-d91df9eb8f3c&cache=v2",rawUrl:B}],tags:["python","django","elasticsearch","docker"],public:d,title:C}}],fetch:{},mutations:void 0}}("0defa4bf-b107-43d1-aee8-ba318aa3953d","notion_user","block",true,"431b3bdd-6335-44e4-ae4a-45c207f63c90","read_and_write","df2c2049-7505-4ab1-8260-d91df9eb8f3c","0c084d44-207c-426c-8c5d-e7e6e298949b",1,1681336287871,1681336287872,1681336287873,"text","c","code","a","Python","b","sub_header","Bash","In this article, I will be giving you brief information about Elasticsearch, its installation, and some examples of usage.","8b2a37df-7d60-4ef0-90d4-602849b76760",false,"header","2020-08-16","building-a-full-text-search-app-using-django-docker-and-elasticsearch","django-docker-elasticsearch.webp","https:\u002F\u002Fs3-us-west-2.amazonaws.com\u002Fsecure.notion-static.com\u002F8462e045-5003-40dc-9e59-24c568acc126\u002Fdjango-docker-elasticsearch.webp","Building a Full-Text Search App Using Django, Docker and Elasticsearch","9e4a8348-dda7-4854-b8bc-c5fbef31de36","df189b92-2fe8-47dd-8daf-44fb4c58a033","9af770ee-6735-4cfb-a6af-6019d324e85d","6e3557eb-83d4-45c6-8ec5-c543ebb3d7af","6518e39e-568f-410d-854e-a659df92e39f","9750e615-ec20-49f9-aee8-dff5a3531c7a","175532e3-3c45-4658-9b2c-63e13851af65","821a1074-97d3-43e1-92b2-849987d76fba","aad72bb8-7e1c-4872-a174-a1472312c01a","f55259a0-967b-46a5-bc16-5f85b28e02a1","a5d8cf70-9ab4-4f2c-80d5-b8cd89b91799","eaa4a4ff-3012-406f-b048-89bd41493ebb","551fdd9a-7727-4793-a114-fd4e7525a818","69ac3be0-c50c-46a6-b0e4-ab3b2635eeff","783df1c6-cf43-43d1-8fe7-d05c106ce68f","0fa1df93-b9be-4bab-84ec-385e40540a15","8758dfa2-3a0d-4c04-991b-3449528ef67a","9c016316-a447-426e-bcf6-4f9bee274431","29c06e44-08fa-4bdf-a583-2604de21e04d","20ae8daa-854e-4b37-ab22-cfcd509b2845","97139cde-c96d-456f-9132-5f01446249c7","d2c5ef0e-e819-4fb0-80a6-5b4f3d2fd62e","ad47a028-89e3-46f9-981b-3670f6e39a56","0477547c-27ad-413c-bba8-0c39e486d1d5","716dbf48-2ecc-400a-84d0-4de48bda1159","4e54b3d3-6622-465a-80c5-29faa85384ff","953cb820-1210-4a91-b716-116fecb4b0c1","aa9455a6-0489-4e8e-83bb-55c23624c5b4","00552847-011a-44b7-a1b5-9e731ca085ca","3a2229c4-401a-4b55-8f3d-720e5cfea1b7","cb995d33-4c03-416c-96f9-4a67c5d42d11","46fcaeae-709c-482a-a7f2-24d8dd1ebd4f","7f72b0d8-75a7-4336-b754-a88c4b63526d","c19da2cc-8902-407c-bff2-e1b194cbee9d","1be881ed-0724-4bc5-863f-49a0a9c6da4f","d2c54487-9dd4-4d7e-b7fe-78fe970a99bc","5dd2694b-c347-417c-8706-6fa37f03b6de","d9ca0c74-6f68-4a20-925c-10be0d6e4fa6","f0925af3-0f90-43da-9807-03cafd346dcb","32977b78-b9fe-446a-a8f9-9af0733197b7","11583786-9b7e-467e-88ef-e895badba8fa","95e74bbd-3c04-4f77-87b8-c4bb11f9a0ca","32b52c2f-60bd-4622-91d6-3a5fe0d9c86e","4ae4f41d-b759-4ee4-8bff-7930a240353d","d42395a0-3af6-4010-bf06-c9f556aecbee","0ae58511-96dc-4739-bee4-51796666f873","46926f87-b4a9-45c9-81cb-3630d7613a42","39d1c733-4095-497d-a2a1-82cd85764733","c1145bf0-8e6e-444a-bea8-bb20581b9c3a","8cd778eb-0f16-43f3-beb7-39f85ffdb91f","177b15f4-e2de-427d-8f48-a31fb2f1143f","90bbb613-e949-4dad-afbb-cafb8f4699d2","5925638b-504d-40d9-8a18-289f49ce3bdc",1681336287863,"collection","ceef6f1a-895a-46b2-a0e4-a87b41405547","204e031f-f12d-445c-ba1d-df7a7bbebfbc","image","https:\u002F\u002Fs3-us-west-2.amazonaws.com\u002Fsecure.notion-static.com\u002Fd5757888-e757-4a04-91f0-aa01d8848b0a\u002Fdjango-docker-elasticsearch.png","90afd726-3eef-4a34-9aa3-fdacceda6592","callout","gray_background","0295176f-9519-402b-a077-f89c677674a5","ae90e02e-0980-4024-ac58-f215bf19a343","4eadb46b-4cbd-4da8-a122-3124e79d28d6","041c72e8-f13c-422c-a891-521e580218a7","5b0c9208-f109-4233-a6e4-460534a4b8bc","1d1fd83b-647e-4f0f-8618-0824ee89a5c7","1a48f37e-b593-4c5a-9f4f-af678e864b18","486d0490-865b-454d-a739-0f2c7373b01d","1043190c-d4b1-4dae-be91-861ba72a7a00","9bcca61d-904e-4685-9279-97c917a40b72","22e6eb03-e65b-419d-b3f2-a60794dfca8d","62b6c38d-baf6-4e6a-a2c8-1a191ca74418","577a790c-5cdf-418c-97bf-8097101504b8","f2a21b0d-44b8-47f6-9eae-6698cd1f0a1e","e8c36332-3fde-422c-82ef-75b726f2e710","45860aff-054f-4315-80cc-e478a048229d","94f086ce-09d6-4077-9cc7-cb26dcb190c2","79830a9e-5169-4233-8a4c-a990afd0dbc0","https:\u002F\u002Fs3-us-west-2.amazonaws.com\u002Fsecure.notion-static.com\u002F0ae7acff-b21d-4aa6-970b-08642f02c7fa\u002Flet-us-begin.gif","b2d99365-6ea4-469a-ac84-5fc15f86b875","67c83285-1d1b-4ebb-b742-4b7d9fdd589d","3be9dc9d-9c27-4641-9de7-63e7643792f1","YAML","cbccb480-9158-46e1-8d4d-2ebbdec4d5d3","c8c953aa-7ede-4065-9df2-6d844fa5caf3","70ba8727-451d-4761-ba11-cd345e073da0","5a872934-d7d5-4597-b48f-7dfcbc618550","f6808427-2029-4d8f-8723-e40c5dd7091c","3bde145f-693d-4adb-af1e-94cb588e3a68","9b9510bf-8c7f-4c38-a878-13d7c25a75a5","c0f4e544-e650-410b-bcb4-484920955238","7e99ddc9-8271-4e56-b90e-085011ef1f72","4359f693-fcb3-4fb2-ab44-a57396950686","f0aa4d3f-2a71-4ca2-8a0d-edc1b85bdbb9","f1c0b6e3-e998-40e6-be27-1c634a04b2cc","2cad02ff-0021-4bfc-9ae4-5893b8a100f2","2169af8f-e8a5-467b-839b-358b82369f50","46c6bd70-1a82-4267-9993-a75243bd5c89","f5673c68-3a87-42e2-82be-d4d73a5dd7af","5f07757d-62c2-4274-9472-dcec94a7d071","0d99eeef-062a-4b38-96d1-f63606de99f6","cb771ead-f854-448d-b9ae-26146b6fa6a0","4b53f587-c20c-4f73-b867-3495716f9e41","936ecae4-6c7d-422f-a8be-4b12d550b8a2","c9359796-9f46-4935-88c0-abf6aff407ff","077ba11f-9e02-4fbf-8dbd-8c54de653dfc","a4c3c30f-f7d6-4a4a-a8e5-1f38f2867165","9e8f403e-e792-49f0-ab8e-3a6ede014c2a","ab01873b-eddb-4379-8ef8-80798c422a3b","453ef89f-9798-494f-839a-5513ec020538","f9fd348c-7582-430b-bb8b-c9aabf816cc0","5974cfa3-5cf2-4f0e-934a-8b833005a0cf","f0948b4b-642a-4da6-be85-c1f57d9fe414")));